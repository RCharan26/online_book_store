<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cart Page</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container py-5">
    <h1 class="text-center text-dark mb-4">Your Cart</h1>
    <div class="table-responsive">
      <table class="table table-bordered table-striped text-center shadow" id="cartTable">
        <thead class="table-dark">
          <tr>
            <th>Book Name</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Amount</th>
            <th>Remove</th>
          </tr>
        </thead>
        <tbody></tbody>
        <tfoot>
          <tr>
            <td colspan="3" class="text-end"><b>Total:</b></td>
            <td colspan="2" id="totalAmount"><b>$0</b></td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>

  <script>
    function loadCart() {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      let tbody = document.querySelector("#cartTable tbody");
      tbody.innerHTML = "";
      let total = 0;

      cart.forEach((item, index) => {
        let amount = item.price * item.quantity;
        total += amount;

        let row = `
          <tr>
            <td>${item.name}</td>
            <td>$${item.price}</td>
            <td>${item.quantity}</td>
            <td>$${amount.toFixed(2)}</td>
            <td><button class="btn btn-danger btn-sm" onclick="removeItem(${index})">Remove</button></td>
          </tr>`;
        tbody.innerHTML += row;
      });

      document.getElementById("totalAmount").innerHTML = `<b>$${total.toFixed(2)}</b>`;
    }

    function removeItem(index) {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      cart.splice(index, 1);
      localStorage.setItem("cart", JSON.stringify(cart));
      loadCart();
    }

    window.onload = loadCart;
  </script>
</body>
</html>
